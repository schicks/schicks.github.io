function J(){}function Nn(t,n){for(const e in n)t[e]=n[e];return t}function Mn(t){return t()}function Sn(){return Object.create(null)}function lt(t){t.forEach(Mn)}function qe(t){return typeof t=="function"}function Tn(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}function Le(t){return Object.keys(t).length===0}function ze(t,n,e,i){if(t){const r=En(t,n,e,i);return t[0](r)}}function En(t,n,e,i){return t[1]&&i?Nn(e.ctx.slice(),t[1](i(n))):e.ctx}function He(t,n,e,i){if(t[2]&&i){const r=t[2](i(e));if(n.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(n.dirty.length,r.length);for(let l=0;l<o;l+=1)s[l]=n.dirty[l]|r[l];return s}return n.dirty|r}return n.dirty}function Oe(t,n,e,i,r,s,o){const l=He(n,i,r,s);if(l){const a=En(n,e,i,o);t.p(a,l)}}function Xe(t){const n={};for(const e in t)e[0]!=="$"&&(n[e]=t[e]);return n}function $n(t,n){t.appendChild(n)}function Cn(t,n,e){t.insertBefore(n,e||null)}function bt(t){t.parentNode.removeChild(t)}function Ue(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function At(t){return document.createElement(t)}function In(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function kt(t){return document.createTextNode(t)}function Ve(){return kt(" ")}function Ye(){return kt("")}function Qt(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function Be(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function Rn(t){return Array.from(t.childNodes)}function Ke(t,n,e,i){for(let r=0;r<t.length;r+=1){const s=t[r];if(s.nodeName===n){let o=0;const l=[];for(;o<s.attributes.length;){const a=s.attributes[o++];e[a.name]||l.push(a.name)}for(let a=0;a<l.length;a++)s.removeAttribute(l[a]);return t.splice(r,1)[0]}}return i?In(n):At(n)}function Fn(t,n){for(let e=0;e<t.length;e+=1){const i=t[e];if(i.nodeType===3)return i.data=""+n,t.splice(e,1)[0]}return kt(n)}function Ge(t){return Fn(t," ")}function Qe(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function We(t,n,e,i){t.style.setProperty(n,e,i?"important":"")}let Nt;function Ze(){if(Nt===void 0){Nt=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch(t){Nt=!0}}return Nt}function Je(t,n){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=At("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const r=Ze();let s;return r?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=Qt(window,"message",o=>{o.source===i.contentWindow&&n()})):(i.src="about:blank",i.onload=()=>{s=Qt(i.contentWindow,"resize",n)}),$n(t,i),()=>{(r||s&&i.contentWindow)&&s(),bt(i)}}class je{constructor(n=null){this.a=n,this.e=this.n=null}m(n,e,i=null){this.e||(this.e=At(e.nodeName),this.t=e,this.h(n)),this.i(i)}h(n){this.e.innerHTML=n,this.n=Array.from(this.e.childNodes)}i(n){for(let e=0;e<this.n.length;e+=1)Cn(this.t,this.n[e],n)}p(n){this.d(),this.h(n),this.i(this.a)}d(){this.n.forEach(bt)}}let Mt;function St(t){Mt=t}function Wt(){if(!Mt)throw new Error("Function called outside component initialization");return Mt}function ti(t){Wt().$$.on_mount.push(t)}function ni(t){Wt().$$.after_update.push(t)}function ei(t,n){Wt().$$.context.set(t,n)}const at=[],Zt=[],Tt=[],Pn=[],ii=Promise.resolve();let Jt=!1;function ri(){Jt||(Jt=!0,ii.then(Dn))}function Et(t){Tt.push(t)}let jt=!1;const tn=new Set;function Dn(){if(!jt){jt=!0;do{for(let t=0;t<at.length;t+=1){const n=at[t];St(n),si(n.$$)}for(St(null),at.length=0;Zt.length;)Zt.pop()();for(let t=0;t<Tt.length;t+=1){const n=Tt[t];tn.has(n)||(tn.add(n),n())}Tt.length=0}while(at.length);for(;Pn.length;)Pn.pop()();Jt=!1,jt=!1,tn.clear()}}function si(t){if(t.fragment!==null){t.update(),lt(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(Et)}}const $t=new Set;let Q;function oi(){Q={r:0,c:[],p:Q}}function li(){Q.r||lt(Q.c),Q=Q.p}function qn(t,n){t&&t.i&&($t.delete(t),t.i(n))}function ai(t,n,e,i){if(t&&t.o){if($t.has(t))return;$t.add(t),Q.c.push(()=>{$t.delete(t),i&&(e&&t.d(1),i())}),t.o(n)}}function ui(t,n){const e={},i={},r={$$scope:1};let s=t.length;for(;s--;){const o=t[s],l=n[s];if(l){for(const a in o)a in l||(i[a]=1);for(const a in l)r[a]||(e[a]=l[a],r[a]=1);t[s]=l}else for(const a in o)r[a]=1}for(const o in i)o in e||(e[o]=void 0);return e}function ci(t){return typeof t=="object"&&t!==null?t:{}}function fi(t){t&&t.c()}function hi(t,n){t&&t.l(n)}function Ln(t,n,e,i){const{fragment:r,on_mount:s,on_destroy:o,after_update:l}=t.$$;r&&r.m(n,e),i||Et(()=>{const a=s.map(Mn).filter(qe);o?o.push(...a):lt(a),t.$$.on_mount=[]}),l.forEach(Et)}function zn(t,n){const e=t.$$;e.fragment!==null&&(lt(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function di(t,n){t.$$.dirty[0]===-1&&(at.push(t),ri(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function gi(t,n,e,i,r,s,o=[-1]){const l=Mt;St(t);const a=t.$$={fragment:null,ctx:null,props:s,update:J,not_equal:r,bound:Sn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:n.context||[]),callbacks:Sn(),dirty:o,skip_bound:!1};let u=!1;if(a.ctx=e?e(t,n.props||{},(c,f,...h)=>{const d=h.length?h[0]:f;return a.ctx&&r(a.ctx[c],a.ctx[c]=d)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](d),u&&di(t,c)),f}):[],a.update(),u=!0,lt(a.before_update),a.fragment=i?i(a.ctx):!1,n.target){if(n.hydrate){const c=Rn(n.target);a.fragment&&a.fragment.l(c),c.forEach(bt)}else a.fragment&&a.fragment.c();n.intro&&qn(t.$$.fragment),Ln(t,n.target,n.anchor,n.customElement),Dn()}St(l)}class _i{$destroy(){zn(this,1),this.$destroy=J}$on(n,e){const i=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return i.push(e),()=>{const r=i.indexOf(e);r!==-1&&i.splice(r,1)}}$set(n){this.$$set&&!Le(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const j=[];function pi(t,n=J){let e;const i=[];function r(l){if(Tn(t,l)&&(t=l,e)){const a=!j.length;for(let u=0;u<i.length;u+=1){const c=i[u];c[1](),j.push(c,t)}if(a){for(let u=0;u<j.length;u+=2)j[u][0](j[u+1]);j.length=0}}}function s(l){r(l(t))}function o(l,a=J){const u=[l,a];return i.push(u),i.length===1&&(e=n(r)||J),l(t),()=>{const c=i.indexOf(u);c!==-1&&i.splice(c,1),i.length===0&&(e(),e=null)}}return{set:r,update:s,subscribe:o}}class Hn extends Map{constructor(n,e=wi){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[i,r]of n)this.set(i,r)}get(n){return super.get(On(this,n))}has(n){return super.has(On(this,n))}set(n,e){return super.set(mi(this,n),e)}delete(n){return super.delete(yi(this,n))}}function On({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):e}function mi({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):(t.set(i,e),e)}function yi({_intern:t,_key:n},e){const i=n(e);return t.has(i)&&(e=t.get(e),t.delete(i)),e}function wi(t){return t!==null&&typeof t=="object"?t.valueOf():t}var xi={value:()=>{}};function nn(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Ct(e)}function Ct(t){this._=t}function vi(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}Ct.prototype=nn.prototype={constructor:Ct,on:function(t,n){var e=this._,i=vi(t+"",e),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(t=i[s]).type)&&(r=bi(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++s<o;)if(r=(t=i[s]).type)e[r]=Xn(e[r],t.name,n);else if(n==null)for(r in e)e[r]=Xn(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ct(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,s;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,r=s.length;i<r;++i)s[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(n,e)}};function bi(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function Xn(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=xi,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var en="http://www.w3.org/1999/xhtml",Un={svg:"http://www.w3.org/2000/svg",xhtml:en,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function It(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Un.hasOwnProperty(n)?{space:Un[n],local:t}:t}function Ai(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===en&&n.documentElement.namespaceURI===en?n.createElement(t):n.createElementNS(e,t)}}function ki(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Vn(t){var n=It(t);return(n.local?ki:Ai)(n)}function Ni(){}function rn(t){return t==null?Ni:function(){return this.querySelector(t)}}function Mi(t){typeof t!="function"&&(t=rn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var s=n[r],o=s.length,l=i[r]=new Array(o),a,u,c=0;c<o;++c)(a=s[c])&&(u=t.call(a,a.__data__,c,s))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new L(i,this._parents)}function Si(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ti(){return[]}function Yn(t){return t==null?Ti:function(){return this.querySelectorAll(t)}}function Ei(t){return function(){return Si(t.apply(this,arguments))}}function $i(t){typeof t=="function"?t=Ei(t):t=Yn(t);for(var n=this._groups,e=n.length,i=[],r=[],s=0;s<e;++s)for(var o=n[s],l=o.length,a,u=0;u<l;++u)(a=o[u])&&(i.push(t.call(a,a.__data__,u,o)),r.push(a));return new L(i,r)}function Bn(t){return function(){return this.matches(t)}}function Kn(t){return function(n){return n.matches(t)}}var Ci=Array.prototype.find;function Ii(t){return function(){return Ci.call(this.children,t)}}function Ri(){return this.firstElementChild}function Fi(t){return this.select(t==null?Ri:Ii(typeof t=="function"?t:Kn(t)))}var Pi=Array.prototype.filter;function Di(){return Array.from(this.children)}function qi(t){return function(){return Pi.call(this.children,t)}}function Li(t){return this.selectAll(t==null?Di:qi(typeof t=="function"?t:Kn(t)))}function zi(t){typeof t!="function"&&(t=Bn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var s=n[r],o=s.length,l=i[r]=[],a,u=0;u<o;++u)(a=s[u])&&t.call(a,a.__data__,u,s)&&l.push(a);return new L(i,this._parents)}function Gn(t){return new Array(t.length)}function Hi(){return new L(this._enter||this._groups.map(Gn),this._parents)}function Rt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Rt.prototype={constructor:Rt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Oi(t){return function(){return t}}function Xi(t,n,e,i,r,s){for(var o=0,l,a=n.length,u=s.length;o<u;++o)(l=n[o])?(l.__data__=s[o],i[o]=l):e[o]=new Rt(t,s[o]);for(;o<a;++o)(l=n[o])&&(r[o]=l)}function Ui(t,n,e,i,r,s,o){var l,a,u=new Map,c=n.length,f=s.length,h=new Array(c),d;for(l=0;l<c;++l)(a=n[l])&&(h[l]=d=o.call(a,a.__data__,l,n)+"",u.has(d)?r[l]=a:u.set(d,a));for(l=0;l<f;++l)d=o.call(t,s[l],l,s)+"",(a=u.get(d))?(i[l]=a,a.__data__=s[l],u.delete(d)):e[l]=new Rt(t,s[l]);for(l=0;l<c;++l)(a=n[l])&&u.get(h[l])===a&&(r[l]=a)}function Vi(t){return t.__data__}function Yi(t,n){if(!arguments.length)return Array.from(this,Vi);var e=n?Ui:Xi,i=this._parents,r=this._groups;typeof t!="function"&&(t=Oi(t));for(var s=r.length,o=new Array(s),l=new Array(s),a=new Array(s),u=0;u<s;++u){var c=i[u],f=r[u],h=f.length,d=Bi(t.call(c,c&&c.__data__,u,i)),_=d.length,p=l[u]=new Array(_),w=o[u]=new Array(_),y=a[u]=new Array(h);e(c,f,p,w,y,d,n);for(var v=0,k=0,g,b;v<_;++v)if(g=p[v]){for(v>=k&&(k=v+1);!(b=w[k])&&++k<_;);g._next=b||null}}return o=new L(o,i),o._enter=l,o._exit=a,o}function Bi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ki(){return new L(this._exit||this._groups.map(Gn),this._parents)}function Gi(t,n,e){var i=this.enter(),r=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?s.remove():e(s),i&&r?i.merge(r).order():r}function Qi(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,s=i.length,o=Math.min(r,s),l=new Array(r),a=0;a<o;++a)for(var u=e[a],c=i[a],f=u.length,h=l[a]=new Array(f),d,_=0;_<f;++_)(d=u[_]||c[_])&&(h[_]=d);for(;a<r;++a)l[a]=e[a];return new L(l,this._parents)}function Wi(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Zi(t){t||(t=Ji);function n(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var o=e[s],l=o.length,a=r[s]=new Array(l),u,c=0;c<l;++c)(u=o[c])&&(a[c]=u);a.sort(n)}return new L(r,this._parents).order()}function Ji(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ji(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function tr(){return Array.from(this)}function nr(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function er(){let t=0;for(const n of this)++t;return t}function ir(){return!this.node()}function rr(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],s=0,o=r.length,l;s<o;++s)(l=r[s])&&t.call(l,l.__data__,s,r);return this}function sr(t){return function(){this.removeAttribute(t)}}function or(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lr(t,n){return function(){this.setAttribute(t,n)}}function ar(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ur(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function cr(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function fr(t,n){var e=It(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?or:sr:typeof n=="function"?e.local?cr:ur:e.local?ar:lr)(e,n))}function Qn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function hr(t){return function(){this.style.removeProperty(t)}}function dr(t,n,e){return function(){this.style.setProperty(t,n,e)}}function gr(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function _r(t,n,e){return arguments.length>1?this.each((n==null?hr:typeof n=="function"?gr:dr)(t,n,e==null?"":e)):tt(this.node(),t)}function tt(t,n){return t.style.getPropertyValue(n)||Qn(t).getComputedStyle(t,null).getPropertyValue(n)}function pr(t){return function(){delete this[t]}}function mr(t,n){return function(){this[t]=n}}function yr(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function wr(t,n){return arguments.length>1?this.each((n==null?pr:typeof n=="function"?yr:mr)(t,n)):this.node()[t]}function Wn(t){return t.trim().split(/^|\s+/)}function sn(t){return t.classList||new Zn(t)}function Zn(t){this._node=t,this._names=Wn(t.getAttribute("class")||"")}Zn.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Jn(t,n){for(var e=sn(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function jn(t,n){for(var e=sn(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function xr(t){return function(){Jn(this,t)}}function vr(t){return function(){jn(this,t)}}function br(t,n){return function(){(n.apply(this,arguments)?Jn:jn)(this,t)}}function Ar(t,n){var e=Wn(t+"");if(arguments.length<2){for(var i=sn(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?br:n?xr:vr)(e,n))}function kr(){this.textContent=""}function Nr(t){return function(){this.textContent=t}}function Mr(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function Sr(t){return arguments.length?this.each(t==null?kr:(typeof t=="function"?Mr:Nr)(t)):this.node().textContent}function Tr(){this.innerHTML=""}function Er(t){return function(){this.innerHTML=t}}function $r(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function Cr(t){return arguments.length?this.each(t==null?Tr:(typeof t=="function"?$r:Er)(t)):this.node().innerHTML}function Ir(){this.nextSibling&&this.parentNode.appendChild(this)}function Rr(){return this.each(Ir)}function Fr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pr(){return this.each(Fr)}function Dr(t){var n=typeof t=="function"?t:Vn(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function qr(){return null}function Lr(t,n){var e=typeof t=="function"?t:Vn(t),i=n==null?qr:typeof n=="function"?n:rn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function zr(){var t=this.parentNode;t&&t.removeChild(this)}function Hr(){return this.each(zr)}function Or(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Xr(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ur(t){return this.select(t?Xr:Or)}function Vr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Yr(t){return function(n){t.call(this,n,this.__data__)}}function Br(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function Kr(t){return function(){var n=this.__on;if(!!n){for(var e=0,i=-1,r=n.length,s;e<r;++e)s=n[e],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):n[++i]=s;++i?n.length=i:delete this.__on}}}function Gr(t,n,e){return function(){var i=this.__on,r,s=Yr(n);if(i){for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),r.value=n;return}}this.addEventListener(t.type,s,e),r={type:t.type,name:t.name,value:n,listener:s,options:e},i?i.push(r):this.__on=[r]}}function Qr(t,n,e){var i=Br(t+""),r,s=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(r=0,c=l[a];r<s;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value}return}for(l=n?Gr:Kr,r=0;r<s;++r)this.each(l(i[r],n,e));return this}function te(t,n,e){var i=Qn(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function Wr(t,n){return function(){return te(this,t,n)}}function Zr(t,n){return function(){return te(this,t,n.apply(this,arguments))}}function Jr(t,n){return this.each((typeof n=="function"?Zr:Wr)(t,n))}function*jr(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var ne=[null];function L(t,n){this._groups=t,this._parents=n}function ut(){return new L([[document.documentElement]],ne)}function ts(){return this}L.prototype=ut.prototype={constructor:L,select:Mi,selectAll:$i,selectChild:Fi,selectChildren:Li,filter:zi,data:Yi,enter:Hi,exit:Ki,join:Gi,merge:Qi,selection:ts,order:Wi,sort:Zi,call:ji,nodes:tr,node:nr,size:er,empty:ir,each:rr,attr:fr,style:_r,property:wr,classed:Ar,text:Sr,html:Cr,raise:Rr,lower:Pr,append:Dr,insert:Lr,remove:Hr,clone:Ur,datum:Vr,on:Qr,dispatch:Jr,[Symbol.iterator]:jr};function ct(t){return typeof t=="string"?new L([[document.querySelector(t)]],[document.documentElement]):new L([[t]],ne)}function ns(t){let n;for(;n=t.sourceEvent;)t=n;return t}function ee(t,n){if(t=ns(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}const es={passive:!1},ft={capture:!0,passive:!1};function on(t){t.stopImmediatePropagation()}function nt(t){t.preventDefault(),t.stopImmediatePropagation()}function is(t){var n=t.document.documentElement,e=ct(t).on("dragstart.drag",nt,ft);"onselectstart"in n?e.on("selectstart.drag",nt,ft):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function rs(t,n){var e=t.document.documentElement,i=ct(t).on("dragstart.drag",null);n&&(i.on("click.drag",nt,ft),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Ft=t=>()=>t;function ln(t,{sourceEvent:n,subject:e,target:i,identifier:r,active:s,x:o,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}ln.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ss(t){return!t.ctrlKey&&!t.button}function os(){return this.parentNode}function ls(t,n){return n==null?{x:t.x,y:t.y}:n}function as(){return navigator.maxTouchPoints||"ontouchstart"in this}function us(){var t=ss,n=os,e=ls,i=as,r={},s=nn("start","drag","end"),o=0,l,a,u,c,f=0;function h(g){g.on("mousedown.drag",d).filter(i).on("touchstart.drag",w).on("touchmove.drag",y,es).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(g,b){if(!(c||!t.call(this,g,b))){var A=k(this,n.call(this,g,b),g,b,"mouse");!A||(ct(g.view).on("mousemove.drag",_,ft).on("mouseup.drag",p,ft),is(g.view),on(g),u=!1,l=g.clientX,a=g.clientY,A("start",g))}}function _(g){if(nt(g),!u){var b=g.clientX-l,A=g.clientY-a;u=b*b+A*A>f}r.mouse("drag",g)}function p(g){ct(g.view).on("mousemove.drag mouseup.drag",null),rs(g.view,u),nt(g),r.mouse("end",g)}function w(g,b){if(!!t.call(this,g,b)){var A=g.changedTouches,S=n.call(this,g,b),E=A.length,$,m;for($=0;$<E;++$)(m=k(this,S,g,b,A[$].identifier,A[$]))&&(on(g),m("start",g,A[$]))}}function y(g){var b=g.changedTouches,A=b.length,S,E;for(S=0;S<A;++S)(E=r[b[S].identifier])&&(nt(g),E("drag",g,b[S]))}function v(g){var b=g.changedTouches,A=b.length,S,E;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),S=0;S<A;++S)(E=r[b[S].identifier])&&(on(g),E("end",g,b[S]))}function k(g,b,A,S,E,$){var m=s.copy(),x=ee($||A,b),N,M,C;if((C=e.call(g,new ln("beforestart",{sourceEvent:A,target:h,identifier:E,active:o,x:x[0],y:x[1],dx:0,dy:0,dispatch:m}),S))!=null)return N=C.x-x[0]||0,M=C.y-x[1]||0,function D(I,T,R){var O=x,q;switch(I){case"start":r[E]=D,q=o++;break;case"end":delete r[E],--o;case"drag":x=ee(R||T,b),q=o;break}m.call(I,g,new ln(I,{sourceEvent:T,subject:C,target:h,identifier:E,active:q,x:x[0]+N,y:x[1]+M,dx:x[0]-O[0],dy:x[1]-O[1],dispatch:m}),S)}}return h.filter=function(g){return arguments.length?(t=typeof g=="function"?g:Ft(!!g),h):t},h.container=function(g){return arguments.length?(n=typeof g=="function"?g:Ft(g),h):n},h.subject=function(g){return arguments.length?(e=typeof g=="function"?g:Ft(g),h):e},h.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:Ft(!!g),h):i},h.on=function(){var g=s.on.apply(s,arguments);return g===s?h:g},h.clickDistance=function(g){return arguments.length?(f=(g=+g)*g,h):Math.sqrt(f)},h}function an(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ie(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function ht(){}var dt=.7,Pt=1/dt,et="\\s*([+-]?\\d+)\\s*",gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",X="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cs=/^#([0-9a-f]{3,8})$/,fs=new RegExp("^rgb\\("+[et,et,et]+"\\)$"),hs=new RegExp("^rgb\\("+[X,X,X]+"\\)$"),ds=new RegExp("^rgba\\("+[et,et,et,gt]+"\\)$"),gs=new RegExp("^rgba\\("+[X,X,X,gt]+"\\)$"),_s=new RegExp("^hsl\\("+[gt,X,X]+"\\)$"),ps=new RegExp("^hsla\\("+[gt,X,X,gt]+"\\)$"),re={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};an(ht,_t,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:se,formatHex:se,formatHsl:ms,formatRgb:oe,toString:oe});function se(){return this.rgb().formatHex()}function ms(){return fe(this).formatHsl()}function oe(){return this.rgb().formatRgb()}function _t(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=cs.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?le(n):e===3?new z(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Dt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Dt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=fs.exec(t))?new z(n[1],n[2],n[3],1):(n=hs.exec(t))?new z(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=ds.exec(t))?Dt(n[1],n[2],n[3],n[4]):(n=gs.exec(t))?Dt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=_s.exec(t))?ce(n[1],n[2]/100,n[3]/100,1):(n=ps.exec(t))?ce(n[1],n[2]/100,n[3]/100,n[4]):re.hasOwnProperty(t)?le(re[t]):t==="transparent"?new z(NaN,NaN,NaN,0):null}function le(t){return new z(t>>16&255,t>>8&255,t&255,1)}function Dt(t,n,e,i){return i<=0&&(t=n=e=NaN),new z(t,n,e,i)}function ys(t){return t instanceof ht||(t=_t(t)),t?(t=t.rgb(),new z(t.r,t.g,t.b,t.opacity)):new z}function un(t,n,e,i){return arguments.length===1?ys(t):new z(t,n,e,i==null?1:i)}function z(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}an(z,un,ie(ht,{brighter:function(t){return t=t==null?Pt:Math.pow(Pt,t),new z(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?dt:Math.pow(dt,t),new z(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ae,formatHex:ae,formatRgb:ue,toString:ue}));function ae(){return"#"+cn(this.r)+cn(this.g)+cn(this.b)}function ue(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function cn(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function ce(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new U(t,n,e,i)}function fe(t){if(t instanceof U)return new U(t.h,t.s,t.l,t.opacity);if(t instanceof ht||(t=_t(t)),!t)return new U;if(t instanceof U)return t;t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),s=Math.max(n,e,i),o=NaN,l=s-r,a=(s+r)/2;return l?(n===s?o=(e-i)/l+(e<i)*6:e===s?o=(i-n)/l+2:o=(n-e)/l+4,l/=a<.5?s+r:2-s-r,o*=60):l=a>0&&a<1?0:o,new U(o,l,a,t.opacity)}function ws(t,n,e,i){return arguments.length===1?fe(t):new U(t,n,e,i==null?1:i)}function U(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}an(U,ws,ie(ht,{brighter:function(t){return t=t==null?Pt:Math.pow(Pt,t),new U(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?dt:Math.pow(dt,t),new U(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new z(fn(t>=240?t-240:t+120,r,i),fn(t,r,i),fn(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function fn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}var he=t=>()=>t;function xs(t,n){return function(e){return t+e*n}}function vs(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function bs(t){return(t=+t)==1?de:function(n,e){return e-n?vs(n,e,t):he(isNaN(n)?e:n)}}function de(t,n){var e=n-t;return e?xs(t,e):he(isNaN(t)?n:t)}var ge=function t(n){var e=bs(n);function i(r,s){var o=e((r=un(r)).r,(s=un(s)).r),l=e(r.g,s.g),a=e(r.b,s.b),u=de(r.opacity,s.opacity);return function(c){return r.r=o(c),r.g=l(c),r.b=a(c),r.opacity=u(c),r+""}}return i.gamma=t,i}(1);function G(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dn=new RegExp(hn.source,"g");function As(t){return function(){return t}}function ks(t){return function(n){return t(n)+""}}function Ns(t,n){var e=hn.lastIndex=dn.lastIndex=0,i,r,s,o=-1,l=[],a=[];for(t=t+"",n=n+"";(i=hn.exec(t))&&(r=dn.exec(n));)(s=r.index)>e&&(s=n.slice(e,s),l[o]?l[o]+=s:l[++o]=s),(i=i[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,a.push({i:o,x:G(i,r)})),e=dn.lastIndex;return e<n.length&&(s=n.slice(e),l[o]?l[o]+=s:l[++o]=s),l.length<2?a[0]?ks(a[0].x):As(n):(n=a.length,function(u){for(var c=0,f;c<n;++c)l[(f=a[c]).i]=f.x(u);return l.join("")})}var _e=180/Math.PI,gn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pe(t,n,e,i,r,s){var o,l,a;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(a=t*e+n*i)&&(e-=t*a,i-=n*a),(l=Math.sqrt(e*e+i*i))&&(e/=l,i/=l,a/=l),t*i<n*e&&(t=-t,n=-n,a=-a,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(n,t)*_e,skewX:Math.atan(a)*_e,scaleX:o,scaleY:l}}var qt;function Ms(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?gn:pe(n.a,n.b,n.c,n.d,n.e,n.f)}function Ss(t){return t==null||(qt||(qt=document.createElementNS("http://www.w3.org/2000/svg","g")),qt.setAttribute("transform",t),!(t=qt.transform.baseVal.consolidate()))?gn:(t=t.matrix,pe(t.a,t.b,t.c,t.d,t.e,t.f))}function me(t,n,e,i){function r(u){return u.length?u.pop()+" ":""}function s(u,c,f,h,d,_){if(u!==f||c!==h){var p=d.push("translate(",null,n,null,e);_.push({i:p-4,x:G(u,f)},{i:p-2,x:G(c,h)})}else(f||h)&&d.push("translate("+f+n+h+e)}function o(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:G(u,c)})):c&&f.push(r(f)+"rotate("+c+i)}function l(u,c,f,h){u!==c?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:G(u,c)}):c&&f.push(r(f)+"skewX("+c+i)}function a(u,c,f,h,d,_){if(u!==f||c!==h){var p=d.push(r(d)+"scale(",null,",",null,")");_.push({i:p-4,x:G(u,f)},{i:p-2,x:G(c,h)})}else(f!==1||h!==1)&&d.push(r(d)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,f,h),o(u.rotate,c.rotate,f,h),l(u.skewX,c.skewX,f,h),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(d){for(var _=-1,p=h.length,w;++_<p;)f[(w=h[_]).i]=w.x(d);return f.join("")}}}var Ts=me(Ms,"px, ","px)","deg)"),Es=me(Ss,", ",")",")"),it=0,pt=0,mt=0,ye=1e3,Lt,yt,zt=0,W=0,Ht=0,wt=typeof performance=="object"&&performance.now?performance:Date,we=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _n(){return W||(we($s),W=wt.now()+Ht)}function $s(){W=0}function Ot(){this._call=this._time=this._next=null}Ot.prototype=xe.prototype={constructor:Ot,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?_n():+e)+(n==null?0:+n),!this._next&&yt!==this&&(yt?yt._next=this:Lt=this,yt=this),this._call=t,this._time=e,pn()},stop:function(){this._call&&(this._call=null,this._time=Infinity,pn())}};function xe(t,n,e){var i=new Ot;return i.restart(t,n,e),i}function Cs(){_n(),++it;for(var t=Lt,n;t;)(n=W-t._time)>=0&&t._call.call(null,n),t=t._next;--it}function ve(){W=(zt=wt.now())+Ht,it=pt=0;try{Cs()}finally{it=0,Rs(),W=0}}function Is(){var t=wt.now(),n=t-zt;n>ye&&(Ht-=n,zt=t)}function Rs(){for(var t,n=Lt,e,i=Infinity;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Lt=e);yt=t,pn(i)}function pn(t){if(!it){pt&&(pt=clearTimeout(pt));var n=t-W;n>24?(t<Infinity&&(pt=setTimeout(ve,t-wt.now()-Ht)),mt&&(mt=clearInterval(mt))):(mt||(zt=wt.now(),mt=setInterval(Is,ye)),it=1,we(ve))}}function be(t,n,e){var i=new Ot;return n=n==null?0:+n,i.restart(r=>{i.stop(),t(r+n)},n,e),i}var Fs=nn("start","end","cancel","interrupt"),Ps=[],Ae=0,ke=1,mn=2,Xt=3,Ne=4,yn=5,Ut=6;function Vt(t,n,e,i,r,s){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;Ds(t,e,{name:n,index:i,group:r,on:Fs,tween:Ps,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ae})}function wn(t,n){var e=H(t,n);if(e.state>Ae)throw new Error("too late; already scheduled");return e}function V(t,n){var e=H(t,n);if(e.state>Xt)throw new Error("too late; already running");return e}function H(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Ds(t,n,e){var i=t.__transition,r;i[n]=e,e.timer=xe(s,0,e.time);function s(u){e.state=ke,e.timer.restart(o,e.delay,e.time),e.delay<=u&&o(u-e.delay)}function o(u){var c,f,h,d;if(e.state!==ke)return a();for(c in i)if(d=i[c],d.name===e.name){if(d.state===Xt)return be(o);d.state===Ne?(d.state=Ut,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<n&&(d.state=Ut,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(be(function(){e.state===Xt&&(e.state=Ne,e.timer.restart(l,e.delay,e.time),l(u))}),e.state=mn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===mn){for(e.state=Xt,r=new Array(h=e.tween.length),c=0,f=-1;c<h;++c)(d=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++f]=d);r.length=f+1}}function l(u){for(var c=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(a),e.state=yn,1),f=-1,h=r.length;++f<h;)r[f].call(t,c);e.state===yn&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){e.state=Ut,e.timer.stop(),delete i[n];for(var u in i)return;delete t.__transition}}function qs(t,n){var e=t.__transition,i,r,s=!0,o;if(!!e){n=n==null?null:n+"";for(o in e){if((i=e[o]).name!==n){s=!1;continue}r=i.state>mn&&i.state<yn,i.state=Ut,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[o]}s&&delete t.__transition}}function Ls(t){return this.each(function(){qs(this,t)})}function zs(t,n){var e,i;return function(){var r=V(this,t),s=r.tween;if(s!==e){i=e=s;for(var o=0,l=i.length;o<l;++o)if(i[o].name===n){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function Hs(t,n,e){var i,r;if(typeof e!="function")throw new Error;return function(){var s=V(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var l={name:n,value:e},a=0,u=r.length;a<u;++a)if(r[a].name===n){r[a]=l;break}a===u&&r.push(l)}s.tween=r}}function Os(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=H(this.node(),e).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((n==null?zs:Hs)(e,t,n))}function xn(t,n,e){var i=t._id;return t.each(function(){var r=V(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return H(r,i).value[n]}}function Me(t,n){var e;return(typeof n=="number"?G:n instanceof _t?ge:(e=_t(n))?(n=e,ge):Ns)(t,n)}function Xs(t){return function(){this.removeAttribute(t)}}function Us(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vs(t,n,e){var i,r=e+"",s;return function(){var o=this.getAttribute(t);return o===r?null:o===i?s:s=n(i=o,e)}}function Ys(t,n,e){var i,r=e+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?s:s=n(i=o,e)}}function Bs(t,n,e){var i,r,s;return function(){var o,l=e(this),a;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),a=l+"",o===a?null:o===i&&a===r?s:(r=a,s=n(i=o,l)))}}function Ks(t,n,e){var i,r,s;return function(){var o,l=e(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),a=l+"",o===a?null:o===i&&a===r?s:(r=a,s=n(i=o,l)))}}function Gs(t,n){var e=It(t),i=e==="transform"?Es:Me;return this.attrTween(t,typeof n=="function"?(e.local?Ks:Bs)(e,i,xn(this,"attr."+t,n)):n==null?(e.local?Us:Xs)(e):(e.local?Ys:Vs)(e,i,n))}function Qs(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ws(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Zs(t,n){var e,i;function r(){var s=n.apply(this,arguments);return s!==i&&(e=(i=s)&&Ws(t,s)),e}return r._value=n,r}function Js(t,n){var e,i;function r(){var s=n.apply(this,arguments);return s!==i&&(e=(i=s)&&Qs(t,s)),e}return r._value=n,r}function js(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=It(t);return this.tween(e,(i.local?Zs:Js)(i,n))}function to(t,n){return function(){wn(this,t).delay=+n.apply(this,arguments)}}function no(t,n){return n=+n,function(){wn(this,t).delay=n}}function eo(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?to:no)(n,t)):H(this.node(),n).delay}function io(t,n){return function(){V(this,t).duration=+n.apply(this,arguments)}}function ro(t,n){return n=+n,function(){V(this,t).duration=n}}function so(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?io:ro)(n,t)):H(this.node(),n).duration}function oo(t,n){if(typeof n!="function")throw new Error;return function(){V(this,t).ease=n}}function lo(t){var n=this._id;return arguments.length?this.each(oo(n,t)):H(this.node(),n).ease}function ao(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;V(this,t).ease=e}}function uo(t){if(typeof t!="function")throw new Error;return this.each(ao(this._id,t))}function co(t){typeof t!="function"&&(t=Bn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var s=n[r],o=s.length,l=i[r]=[],a,u=0;u<o;++u)(a=s[u])&&t.call(a,a.__data__,u,s)&&l.push(a);return new Y(i,this._parents,this._name,this._id)}function fo(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,s=Math.min(i,r),o=new Array(i),l=0;l<s;++l)for(var a=n[l],u=e[l],c=a.length,f=o[l]=new Array(c),h,d=0;d<c;++d)(h=a[d]||u[d])&&(f[d]=h);for(;l<i;++l)o[l]=n[l];return new Y(o,this._parents,this._name,this._id)}function ho(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function go(t,n,e){var i,r,s=ho(n)?wn:V;return function(){var o=s(this,t),l=o.on;l!==i&&(r=(i=l).copy()).on(n,e),o.on=r}}function _o(t,n){var e=this._id;return arguments.length<2?H(this.node(),e).on.on(t):this.each(go(e,t,n))}function po(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function mo(){return this.on("end.remove",po(this._id))}function yo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=rn(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var l=i[o],a=l.length,u=s[o]=new Array(a),c,f,h=0;h<a;++h)(c=l[h])&&(f=t.call(c,c.__data__,h,l))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,Vt(u[h],n,e,h,u,H(c,e)));return new Y(s,this._parents,n,e)}function wo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Yn(t));for(var i=this._groups,r=i.length,s=[],o=[],l=0;l<r;++l)for(var a=i[l],u=a.length,c,f=0;f<u;++f)if(c=a[f]){for(var h=t.call(c,c.__data__,f,a),d,_=H(c,e),p=0,w=h.length;p<w;++p)(d=h[p])&&Vt(d,n,e,p,h,_);s.push(h),o.push(c)}return new Y(s,o,n,e)}var xo=ut.prototype.constructor;function vo(){return new xo(this._groups,this._parents)}function bo(t,n){var e,i,r;return function(){var s=tt(this,t),o=(this.style.removeProperty(t),tt(this,t));return s===o?null:s===e&&o===i?r:r=n(e=s,i=o)}}function Se(t){return function(){this.style.removeProperty(t)}}function Ao(t,n,e){var i,r=e+"",s;return function(){var o=tt(this,t);return o===r?null:o===i?s:s=n(i=o,e)}}function ko(t,n,e){var i,r,s;return function(){var o=tt(this,t),l=e(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),tt(this,t))),o===a?null:o===i&&a===r?s:(r=a,s=n(i=o,l))}}function No(t,n){var e,i,r,s="style."+n,o="end."+s,l;return function(){var a=V(this,t),u=a.on,c=a.value[s]==null?l||(l=Se(n)):void 0;(u!==e||r!==c)&&(i=(e=u).copy()).on(o,r=c),a.on=i}}function Mo(t,n,e){var i=(t+="")==="transform"?Ts:Me;return n==null?this.styleTween(t,bo(t,i)).on("end.style."+t,Se(t)):typeof n=="function"?this.styleTween(t,ko(t,i,xn(this,"style."+t,n))).each(No(this._id,t)):this.styleTween(t,Ao(t,i,n),e).on("end.style."+t,null)}function So(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function To(t,n,e){var i,r;function s(){var o=n.apply(this,arguments);return o!==r&&(i=(r=o)&&So(t,o,e)),i}return s._value=n,s}function Eo(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,To(t,n,e==null?"":e))}function $o(t){return function(){this.textContent=t}}function Co(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function Io(t){return this.tween("text",typeof t=="function"?Co(xn(this,"text",t)):$o(t==null?"":t+""))}function Ro(t){return function(n){this.textContent=t.call(this,n)}}function Fo(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Ro(r)),n}return i._value=t,i}function Po(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Fo(t))}function Do(){for(var t=this._name,n=this._id,e=Te(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,a,u=0;u<l;++u)if(a=o[u]){var c=H(a,n);Vt(a,t,e,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Y(i,this._parents,t,e)}function qo(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(s,o){var l={value:o},a={value:function(){--r==0&&s()}};e.each(function(){var u=V(this,i),c=u.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(a)),u.on=n}),r===0&&s()})}var Lo=0;function Y(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function Te(){return++Lo}var B=ut.prototype;Y.prototype={constructor:Y,select:yo,selectAll:wo,selectChild:B.selectChild,selectChildren:B.selectChildren,filter:co,merge:fo,selection:vo,transition:Do,call:B.call,nodes:B.nodes,node:B.node,size:B.size,empty:B.empty,each:B.each,on:_o,attr:Gs,attrTween:js,style:Mo,styleTween:Eo,text:Io,textTween:Po,remove:mo,tween:Os,delay:eo,duration:so,ease:lo,easeVarying:uo,end:qo,[Symbol.iterator]:B[Symbol.iterator]};function zo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ho={time:null,delay:0,duration:250,ease:zo};function Oo(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Xo(t){var n,e;t instanceof Y?(n=t._id,t=t._name):(n=Te(),(e=Ho).time=_n(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],l=o.length,a,u=0;u<l;++u)(a=o[u])&&Vt(a,t,n,u,o,e||Oo(a,n));return new Y(i,this._parents,t,n)}ut.prototype.interrupt=Ls,ut.prototype.transition=Xo;const K=11102230246251565e-32,F=134217729,Uo=(3+8*K)*K;function vn(t,n,e,i,r){let s,o,l,a,u=n[0],c=i[0],f=0,h=0;c>u==c>-u?(s=u,u=n[++f]):(s=c,c=i[++h]);let d=0;if(f<t&&h<e)for(c>u==c>-u?(o=u+s,l=s-(o-u),u=n[++f]):(o=c+s,l=s-(o-c),c=i[++h]),s=o,l!==0&&(r[d++]=l);f<t&&h<e;)c>u==c>-u?(o=s+u,a=o-s,l=s-(o-a)+(u-a),u=n[++f]):(o=s+c,a=o-s,l=s-(o-a)+(c-a),c=i[++h]),s=o,l!==0&&(r[d++]=l);for(;f<t;)o=s+u,a=o-s,l=s-(o-a)+(u-a),u=n[++f],s=o,l!==0&&(r[d++]=l);for(;h<e;)o=s+c,a=o-s,l=s-(o-a)+(c-a),c=i[++h],s=o,l!==0&&(r[d++]=l);return(s!==0||d===0)&&(r[d++]=s),d}function Vo(t,n){let e=n[0];for(let i=1;i<t;i++)e+=n[i];return e}function xt(t){return new Float64Array(t)}const Yo=(3+16*K)*K,Bo=(2+12*K)*K,Ko=(9+64*K)*K*K,rt=xt(4),Ee=xt(8),$e=xt(12),Ce=xt(16),P=xt(4);function Go(t,n,e,i,r,s,o){let l,a,u,c,f,h,d,_,p,w,y,v,k,g,b,A,S,E;const $=t-r,m=e-r,x=n-s,N=i-s;g=$*N,h=F*$,d=h-(h-$),_=$-d,h=F*N,p=h-(h-N),w=N-p,b=_*w-(g-d*p-_*p-d*w),A=x*m,h=F*x,d=h-(h-x),_=x-d,h=F*m,p=h-(h-m),w=m-p,S=_*w-(A-d*p-_*p-d*w),y=b-S,f=b-y,rt[0]=b-(y+f)+(f-S),v=g+y,f=v-g,k=g-(v-f)+(y-f),y=k-A,f=k-y,rt[1]=k-(y+f)+(f-A),E=v+y,f=E-v,rt[2]=v-(E-f)+(y-f),rt[3]=E;let M=Vo(4,rt),C=Bo*o;if(M>=C||-M>=C||(f=t-$,l=t-($+f)+(f-r),f=e-m,u=e-(m+f)+(f-r),f=n-x,a=n-(x+f)+(f-s),f=i-N,c=i-(N+f)+(f-s),l===0&&a===0&&u===0&&c===0)||(C=Ko*o+Uo*Math.abs(M),M+=$*c+N*l-(x*u+m*a),M>=C||-M>=C))return M;g=l*N,h=F*l,d=h-(h-l),_=l-d,h=F*N,p=h-(h-N),w=N-p,b=_*w-(g-d*p-_*p-d*w),A=a*m,h=F*a,d=h-(h-a),_=a-d,h=F*m,p=h-(h-m),w=m-p,S=_*w-(A-d*p-_*p-d*w),y=b-S,f=b-y,P[0]=b-(y+f)+(f-S),v=g+y,f=v-g,k=g-(v-f)+(y-f),y=k-A,f=k-y,P[1]=k-(y+f)+(f-A),E=v+y,f=E-v,P[2]=v-(E-f)+(y-f),P[3]=E;const D=vn(4,rt,4,P,Ee);g=$*c,h=F*$,d=h-(h-$),_=$-d,h=F*c,p=h-(h-c),w=c-p,b=_*w-(g-d*p-_*p-d*w),A=x*u,h=F*x,d=h-(h-x),_=x-d,h=F*u,p=h-(h-u),w=u-p,S=_*w-(A-d*p-_*p-d*w),y=b-S,f=b-y,P[0]=b-(y+f)+(f-S),v=g+y,f=v-g,k=g-(v-f)+(y-f),y=k-A,f=k-y,P[1]=k-(y+f)+(f-A),E=v+y,f=E-v,P[2]=v-(E-f)+(y-f),P[3]=E;const I=vn(D,Ee,4,P,$e);g=l*c,h=F*l,d=h-(h-l),_=l-d,h=F*c,p=h-(h-c),w=c-p,b=_*w-(g-d*p-_*p-d*w),A=a*u,h=F*a,d=h-(h-a),_=a-d,h=F*u,p=h-(h-u),w=u-p,S=_*w-(A-d*p-_*p-d*w),y=b-S,f=b-y,P[0]=b-(y+f)+(f-S),v=g+y,f=v-g,k=g-(v-f)+(y-f),y=k-A,f=k-y,P[1]=k-(y+f)+(f-A),E=v+y,f=E-v,P[2]=v-(E-f)+(y-f),P[3]=E;const T=vn(I,$e,4,P,Ce);return Ce[T-1]}function Yt(t,n,e,i,r,s){const o=(n-s)*(e-r),l=(t-r)*(i-s),a=o-l;if(o===0||l===0||o>0!=l>0)return a;const u=Math.abs(o+l);return Math.abs(a)>=Yo*u?a:-Go(t,n,e,i,r,s,u)}const Ie=Math.pow(2,-52),Bt=new Uint32Array(512);class Kt{static from(n,e=jo,i=tl){const r=n.length,s=new Float64Array(r*2);for(let o=0;o<r;o++){const l=n[o];s[2*o]=e(l),s[2*o+1]=i(l)}return new Kt(s)}constructor(n){const e=n.length>>1;if(e>0&&typeof n[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=n;const i=Math.max(2*e-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:n,_hullPrev:e,_hullNext:i,_hullTri:r,_hullHash:s}=this,o=n.length>>1;let l=Infinity,a=Infinity,u=-Infinity,c=-Infinity;for(let m=0;m<o;m++){const x=n[2*m],N=n[2*m+1];x<l&&(l=x),N<a&&(a=N),x>u&&(u=x),N>c&&(c=N),this._ids[m]=m}const f=(l+u)/2,h=(a+c)/2;let d=Infinity,_,p,w;for(let m=0;m<o;m++){const x=bn(f,h,n[2*m],n[2*m+1]);x<d&&(_=m,d=x)}const y=n[2*_],v=n[2*_+1];d=Infinity;for(let m=0;m<o;m++){if(m===_)continue;const x=bn(y,v,n[2*m],n[2*m+1]);x<d&&x>0&&(p=m,d=x)}let k=n[2*p],g=n[2*p+1],b=Infinity;for(let m=0;m<o;m++){if(m===_||m===p)continue;const x=Zo(y,v,k,g,n[2*m],n[2*m+1]);x<b&&(w=m,b=x)}let A=n[2*w],S=n[2*w+1];if(b===Infinity){for(let N=0;N<o;N++)this._dists[N]=n[2*N]-n[0]||n[2*N+1]-n[1];st(this._ids,this._dists,0,o-1);const m=new Uint32Array(o);let x=0;for(let N=0,M=-Infinity;N<o;N++){const C=this._ids[N];this._dists[C]>M&&(m[x++]=C,M=this._dists[C])}this.hull=m.subarray(0,x),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Yt(y,v,k,g,A,S)<0){const m=p,x=k,N=g;p=w,k=A,g=S,w=m,A=x,S=N}const E=Jo(y,v,k,g,A,S);this._cx=E.x,this._cy=E.y;for(let m=0;m<o;m++)this._dists[m]=bn(n[2*m],n[2*m+1],E.x,E.y);st(this._ids,this._dists,0,o-1),this._hullStart=_;let $=3;i[_]=e[w]=p,i[p]=e[_]=w,i[w]=e[p]=_,r[_]=0,r[p]=1,r[w]=2,s.fill(-1),s[this._hashKey(y,v)]=_,s[this._hashKey(k,g)]=p,s[this._hashKey(A,S)]=w,this.trianglesLen=0,this._addTriangle(_,p,w,-1,-1,-1);for(let m=0,x,N;m<this._ids.length;m++){const M=this._ids[m],C=n[2*M],D=n[2*M+1];if(m>0&&Math.abs(C-x)<=Ie&&Math.abs(D-N)<=Ie||(x=C,N=D,M===_||M===p||M===w))continue;let I=0;for(let Gt=0,De=this._hashKey(C,D);Gt<this._hashSize&&(I=s[(De+Gt)%this._hashSize],!(I!==-1&&I!==i[I]));Gt++);I=e[I];let T=I,R;for(;R=i[T],Yt(C,D,n[2*T],n[2*T+1],n[2*R],n[2*R+1])>=0;)if(T=R,T===I){T=-1;break}if(T===-1)continue;let O=this._addTriangle(T,M,i[T],-1,-1,r[T]);r[M]=this._legalize(O+2),r[T]=O,$++;let q=i[T];for(;R=i[q],Yt(C,D,n[2*q],n[2*q+1],n[2*R],n[2*R+1])<0;)O=this._addTriangle(q,M,R,r[M],-1,r[q]),r[M]=this._legalize(O+2),i[q]=q,$--,q=R;if(T===I)for(;R=e[T],Yt(C,D,n[2*R],n[2*R+1],n[2*T],n[2*T+1])<0;)O=this._addTriangle(R,M,T,-1,r[T],r[R]),this._legalize(O+2),r[R]=O,i[T]=T,$--,T=R;this._hullStart=e[M]=T,i[T]=e[q]=M,i[M]=q,s[this._hashKey(C,D)]=M,s[this._hashKey(n[2*T],n[2*T+1])]=T}this.hull=new Uint32Array($);for(let m=0,x=this._hullStart;m<$;m++)this.hull[m]=x,x=i[x];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,e){return Math.floor(Qo(n-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:e,_halfedges:i,coords:r}=this;let s=0,o=0;for(;;){const l=i[n],a=n-n%3;if(o=a+(n+2)%3,l===-1){if(s===0)break;n=Bt[--s];continue}const u=l-l%3,c=a+(n+1)%3,f=u+(l+2)%3,h=e[o],d=e[n],_=e[c],p=e[f];if(Wo(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*_],r[2*_+1],r[2*p],r[2*p+1])){e[n]=p,e[l]=h;const y=i[f];if(y===-1){let k=this._hullStart;do{if(this._hullTri[k]===f){this._hullTri[k]=n;break}k=this._hullPrev[k]}while(k!==this._hullStart)}this._link(n,y),this._link(l,i[o]),this._link(o,f);const v=u+(l+1)%3;s<Bt.length&&(Bt[s++]=v)}else{if(s===0)break;n=Bt[--s]}}return o}_link(n,e){this._halfedges[n]=e,e!==-1&&(this._halfedges[e]=n)}_addTriangle(n,e,i,r,s,o){const l=this.trianglesLen;return this._triangles[l]=n,this._triangles[l+1]=e,this._triangles[l+2]=i,this._link(l,r),this._link(l+1,s),this._link(l+2,o),this.trianglesLen+=3,l}}function Qo(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}function bn(t,n,e,i){const r=t-e,s=n-i;return r*r+s*s}function Wo(t,n,e,i,r,s,o,l){const a=t-o,u=n-l,c=e-o,f=i-l,h=r-o,d=s-l,_=a*a+u*u,p=c*c+f*f,w=h*h+d*d;return a*(f*w-p*d)-u*(c*w-p*h)+_*(c*d-f*h)<0}function Zo(t,n,e,i,r,s){const o=e-t,l=i-n,a=r-t,u=s-n,c=o*o+l*l,f=a*a+u*u,h=.5/(o*u-l*a),d=(u*c-l*f)*h,_=(o*f-a*c)*h;return d*d+_*_}function Jo(t,n,e,i,r,s){const o=e-t,l=i-n,a=r-t,u=s-n,c=o*o+l*l,f=a*a+u*u,h=.5/(o*u-l*a),d=t+(u*c-l*f)*h,_=n+(o*f-a*c)*h;return{x:d,y:_}}function st(t,n,e,i){if(i-e<=20)for(let r=e+1;r<=i;r++){const s=t[r],o=n[s];let l=r-1;for(;l>=e&&n[t[l]]>o;)t[l+1]=t[l--];t[l+1]=s}else{const r=e+i>>1;let s=e+1,o=i;vt(t,r,s),n[t[e]]>n[t[i]]&&vt(t,e,i),n[t[s]]>n[t[i]]&&vt(t,s,i),n[t[e]]>n[t[s]]&&vt(t,e,s);const l=t[s],a=n[l];for(;;){do s++;while(n[t[s]]<a);do o--;while(n[t[o]]>a);if(o<s)break;vt(t,s,o)}t[e+1]=t[o],t[o]=l,i-s+1>=o-e?(st(t,n,s,i),st(t,n,e,o-1)):(st(t,n,e,o-1),st(t,n,s,i))}}function vt(t,n,e){const i=t[n];t[n]=t[e],t[e]=i}function jo(t){return t[0]}function tl(t){return t[1]}const Re=1e-6;class Z{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,e){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,e){this._+=`L${this._x1=+n},${this._y1=+e}`}arc(n,e,i){n=+n,e=+e,i=+i;const r=n+i,s=e;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${s}`:(Math.abs(this._x1-r)>Re||Math.abs(this._y1-s)>Re)&&(this._+="L"+r+","+s),!!i&&(this._+=`A${i},${i},0,1,1,${n-i},${e}A${i},${i},0,1,1,${this._x1=r},${this._y1=s}`)}rect(n,e,i,r){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class An{constructor(){this._=[]}moveTo(n,e){this._.push([n,e])}closePath(){this._.push(this._[0].slice())}lineTo(n,e){this._.push([n,e])}value(){return this._.length?this._:null}}class nl{constructor(n,[e,i,r,s]=[0,0,960,500]){if(!((r=+r)>=(e=+e))||!((s=+s)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(n.points.length*2),this.vectors=new Float64Array(n.points.length*2),this.xmax=r,this.xmin=e,this.ymax=s,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:e,triangles:i},vectors:r}=this,s=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let d=0,_=0,p=i.length,w,y;d<p;d+=3,_+=2){const v=i[d]*2,k=i[d+1]*2,g=i[d+2]*2,b=n[v],A=n[v+1],S=n[k],E=n[k+1],$=n[g],m=n[g+1],x=S-b,N=E-A,M=$-b,C=m-A,D=(x*C-N*M)*2;if(Math.abs(D)<1e-9){let I=1e9;const T=i[0]*2;I*=Math.sign((n[T]-b)*C-(n[T+1]-A)*M),w=(b+$)/2-I*C,y=(A+m)/2+I*M}else{const I=1/D,T=x*x+N*N,R=M*M+C*C;w=b+(C*T-N*R)*I,y=A+(x*R-M*T)*I}s[_]=w,s[_+1]=y}let o=e[e.length-1],l,a=o*4,u,c=n[2*o],f,h=n[2*o+1];r.fill(0);for(let d=0;d<e.length;++d)o=e[d],l=a,u=c,f=h,a=o*4,c=n[2*o],h=n[2*o+1],r[l+2]=r[a]=f-h,r[l+3]=r[a+1]=c-u}render(n){const e=n==null?n=new Z:void 0,{delaunay:{halfedges:i,inedges:r,hull:s},circumcenters:o,vectors:l}=this;if(s.length<=1)return null;for(let c=0,f=i.length;c<f;++c){const h=i[c];if(h<c)continue;const d=Math.floor(c/3)*2,_=Math.floor(h/3)*2,p=o[d],w=o[d+1],y=o[_],v=o[_+1];this._renderSegment(p,w,y,v,n)}let a,u=s[s.length-1];for(let c=0;c<s.length;++c){a=u,u=s[c];const f=Math.floor(r[u]/3)*2,h=o[f],d=o[f+1],_=a*4,p=this._project(h,d,l[_+2],l[_+3]);p&&this._renderSegment(h,d,p[0],p[1],n)}return e&&e.value()}renderBounds(n){const e=n==null?n=new Z:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(n,e){const i=e==null?e=new Z:void 0,r=this._clip(n);if(r===null||!r.length)return;e.moveTo(r[0],r[1]);let s=r.length;for(;r[0]===r[s-2]&&r[1]===r[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(r[o]!==r[o-2]||r[o+1]!==r[o-1])&&e.lineTo(r[o],r[o+1]);return e.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let e=0,i=n.length/2;e<i;++e){const r=this.cellPolygon(e);r&&(r.index=e,yield r)}}cellPolygon(n){const e=new An;return this.renderCell(n,e),e.value()}_renderSegment(n,e,i,r,s){let o;const l=this._regioncode(n,e),a=this._regioncode(i,r);l===0&&a===0?(s.moveTo(n,e),s.lineTo(i,r)):(o=this._clipSegment(n,e,i,r,l,a))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(n,e,i){return e=+e,e!==e||(i=+i,i!==i)?!1:this.delaunay._step(n,e,i)===n}*neighbors(n){const e=this._clip(n);if(e)for(const i of this.delaunay.neighbors(n)){const r=this._clip(i);if(r)t:for(let s=0,o=e.length;s<o;s+=2)for(let l=0,a=r.length;l<a;l+=2)if(e[s]==r[l]&&e[s+1]==r[l+1]&&e[(s+2)%o]==r[(l+a-2)%a]&&e[(s+3)%o]==r[(l+a-1)%a]){yield i;break t}}}_cell(n){const{circumcenters:e,delaunay:{inedges:i,halfedges:r,triangles:s}}=this,o=i[n];if(o===-1)return null;const l=[];let a=o;do{const u=Math.floor(a/3);if(l.push(e[u*2],e[u*2+1]),a=a%3==2?a-2:a+1,s[a]!==n)break;a=r[a]}while(a!==o&&a!==-1);return l}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(n);if(e===null)return null;const{vectors:i}=this,r=n*4;return i[r]||i[r+1]?this._clipInfinite(n,e,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(n,e)}_clipFinite(n,e){const i=e.length;let r=null,s,o,l=e[i-2],a=e[i-1],u,c=this._regioncode(l,a),f,h=0;for(let d=0;d<i;d+=2)if(s=l,o=a,l=e[d],a=e[d+1],u=c,c=this._regioncode(l,a),u===0&&c===0)f=h,h=0,r?r.push(l,a):r=[l,a];else{let _,p,w,y,v;if(u===0){if((_=this._clipSegment(s,o,l,a,u,c))===null)continue;[p,w,y,v]=_}else{if((_=this._clipSegment(l,a,s,o,c,u))===null)continue;[y,v,p,w]=_,f=h,h=this._edgecode(p,w),f&&h&&this._edge(n,f,h,r,r.length),r?r.push(p,w):r=[p,w]}f=h,h=this._edgecode(y,v),f&&h&&this._edge(n,f,h,r,r.length),r?r.push(y,v):r=[y,v]}if(r)f=h,h=this._edgecode(r[0],r[1]),f&&h&&this._edge(n,f,h,r,r.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(n,e,i,r,s,o){for(;;){if(s===0&&o===0)return[n,e,i,r];if(s&o)return null;let l,a,u=s||o;u&8?(l=n+(i-n)*(this.ymax-e)/(r-e),a=this.ymax):u&4?(l=n+(i-n)*(this.ymin-e)/(r-e),a=this.ymin):u&2?(a=e+(r-e)*(this.xmax-n)/(i-n),l=this.xmax):(a=e+(r-e)*(this.xmin-n)/(i-n),l=this.xmin),s?(n=l,e=a,s=this._regioncode(n,e)):(i=l,r=a,o=this._regioncode(i,r))}}_clipInfinite(n,e,i,r,s,o){let l=Array.from(e),a;if((a=this._project(l[0],l[1],i,r))&&l.unshift(a[0],a[1]),(a=this._project(l[l.length-2],l[l.length-1],s,o))&&l.push(a[0],a[1]),l=this._clipFinite(n,l))for(let u=0,c=l.length,f,h=this._edgecode(l[c-2],l[c-1]);u<c;u+=2)f=h,h=this._edgecode(l[u],l[u+1]),f&&h&&(u=this._edge(n,f,h,l,u),c=l.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(n,e,i,r,s){for(;e!==i;){let o,l;switch(e){case 5:e=4;continue;case 4:e=6,o=this.xmax,l=this.ymin;break;case 6:e=2;continue;case 2:e=10,o=this.xmax,l=this.ymax;break;case 10:e=8;continue;case 8:e=9,o=this.xmin,l=this.ymax;break;case 9:e=1;continue;case 1:e=5,o=this.xmin,l=this.ymin;break}(r[s]!==o||r[s+1]!==l)&&this.contains(n,o,l)&&(r.splice(s,0,o,l),s+=2)}if(r.length>4)for(let o=0;o<r.length;o+=2){const l=(o+2)%r.length,a=(o+4)%r.length;(r[o]===r[l]&&r[l]===r[a]||r[o+1]===r[l+1]&&r[l+1]===r[a+1])&&(r.splice(l,2),o-=2)}return s}_project(n,e,i,r){let s=Infinity,o,l,a;if(r<0){if(e<=this.ymin)return null;(o=(this.ymin-e)/r)<s&&(a=this.ymin,l=n+(s=o)*i)}else if(r>0){if(e>=this.ymax)return null;(o=(this.ymax-e)/r)<s&&(a=this.ymax,l=n+(s=o)*i)}if(i>0){if(n>=this.xmax)return null;(o=(this.xmax-n)/i)<s&&(l=this.xmax,a=e+(s=o)*r)}else if(i<0){if(n<=this.xmin)return null;(o=(this.xmin-n)/i)<s&&(l=this.xmin,a=e+(s=o)*r)}return[l,a]}_edgecode(n,e){return(n===this.xmin?1:n===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(n,e){return(n<this.xmin?1:n>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const el=2*Math.PI,ot=Math.pow;function il(t){return t[0]}function rl(t){return t[1]}function sl(t){const{triangles:n,coords:e}=t;for(let i=0;i<n.length;i+=3){const r=2*n[i],s=2*n[i+1],o=2*n[i+2];if((e[o]-e[r])*(e[s+1]-e[r+1])-(e[s]-e[r])*(e[o+1]-e[r+1])>1e-10)return!1}return!0}function ol(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class kn{static from(n,e=il,i=rl,r){return new kn("length"in n?ll(n,e,i,r):Float64Array.from(al(n,e,i,r)))}constructor(n){this._delaunator=new Kt(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,e=this.points;if(n.hull&&n.hull.length>2&&sl(n)){this.collinear=Int32Array.from({length:e.length/2},(h,d)=>d).sort((h,d)=>e[2*h]-e[2*d]||e[2*h+1]-e[2*d+1]);const a=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[e[2*a],e[2*a+1],e[2*u],e[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let h=0,d=e.length/2;h<d;++h){const _=ol(e[2*h],e[2*h+1],f);e[2*h]=_[0],e[2*h+1]=_[1]}this._delaunator=new Kt(e)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let a=0,u=i.length;a<u;++a){const c=s[a%3==2?a-2:a+1];(i[a]===-1||o[c]===-1)&&(o[c]=a)}for(let a=0,u=r.length;a<u;++a)l[r[a]]=a;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,r.length===2&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(n){return new nl(this,n)}*neighbors(n){const{inedges:e,hull:i,_hullIndex:r,halfedges:s,triangles:o,collinear:l}=this;if(l){const f=l.indexOf(n);f>0&&(yield l[f-1]),f<l.length-1&&(yield l[f+1]);return}const a=e[n];if(a===-1)return;let u=a,c=-1;do{if(yield c=o[u],u=u%3==2?u-2:u+1,o[u]!==n)return;if(u=s[u],u===-1){const f=i[(r[n]+1)%i.length];f!==c&&(yield f);return}}while(u!==a)}find(n,e,i=0){if(n=+n,n!==n||(e=+e,e!==e))return-1;const r=i;let s;for(;(s=this._step(i,n,e))>=0&&s!==i&&s!==r;)i=s;return s}_step(n,e,i){const{inedges:r,hull:s,_hullIndex:o,halfedges:l,triangles:a,points:u}=this;if(r[n]===-1||!u.length)return(n+1)%(u.length>>1);let c=n,f=ot(e-u[n*2],2)+ot(i-u[n*2+1],2);const h=r[n];let d=h;do{let _=a[d];const p=ot(e-u[_*2],2)+ot(i-u[_*2+1],2);if(p<f&&(f=p,c=_),d=d%3==2?d-2:d+1,a[d]!==n)break;if(d=l[d],d===-1){if(d=s[(o[n]+1)%s.length],d!==_&&ot(e-u[d*2],2)+ot(i-u[d*2+1],2)<f)return d;break}}while(d!==h);return c}render(n){const e=n==null?n=new Z:void 0,{points:i,halfedges:r,triangles:s}=this;for(let o=0,l=r.length;o<l;++o){const a=r[o];if(a<o)continue;const u=s[o]*2,c=s[a]*2;n.moveTo(i[u],i[u+1]),n.lineTo(i[c],i[c+1])}return this.renderHull(n),e&&e.value()}renderPoints(n,e){e===void 0&&(!n||typeof n.moveTo!="function")&&(e=n,n=null),e=e==null?2:+e;const i=n==null?n=new Z:void 0,{points:r}=this;for(let s=0,o=r.length;s<o;s+=2){const l=r[s],a=r[s+1];n.moveTo(l+e,a),n.arc(l,a,e,0,el)}return i&&i.value()}renderHull(n){const e=n==null?n=new Z:void 0,{hull:i,points:r}=this,s=i[0]*2,o=i.length;n.moveTo(r[s],r[s+1]);for(let l=1;l<o;++l){const a=2*i[l];n.lineTo(r[a],r[a+1])}return n.closePath(),e&&e.value()}hullPolygon(){const n=new An;return this.renderHull(n),n.value()}renderTriangle(n,e){const i=e==null?e=new Z:void 0,{points:r,triangles:s}=this,o=s[n*=3]*2,l=s[n+1]*2,a=s[n+2]*2;return e.moveTo(r[o],r[o+1]),e.lineTo(r[l],r[l+1]),e.lineTo(r[a],r[a+1]),e.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:n}=this;for(let e=0,i=n.length/3;e<i;++e)yield this.trianglePolygon(e)}trianglePolygon(n){const e=new An;return this.renderTriangle(n,e),e.value()}}function ll(t,n,e,i){const r=t.length,s=new Float64Array(r*2);for(let o=0;o<r;++o){const l=t[o];s[o*2]=n.call(i,l,o,t),s[o*2+1]=e.call(i,l,o,t)}return s}function*al(t,n,e,i){let r=0;for(const s of t)yield n.call(i,s,r,t),yield e.call(i,s,r,t),++r}var ul=Math.random,cl=function t(n){function e(i,r){var s,o;return i=i==null?0:+i,r=r==null?1:+r,function(){var l;if(s!=null)l=s,s=null;else do s=n()*2-1,l=n()*2-1,o=s*s+l*l;while(!o||o>1);return i+r*l*Math.sqrt(-2*Math.log(o)/o)}}return e.source=t,e}(ul);function fl(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const Fe=Symbol("implicit");function Pe(){var t=new Hn,n=[],e=[],i=Fe;function r(s){let o=t.get(s);if(o===void 0){if(i!==Fe)return i;t.set(s,o=n.push(s)-1)}return e[o%e.length]}return r.domain=function(s){if(!arguments.length)return n.slice();n=[],t=new Hn;for(const o of s)t.has(o)||t.set(o,n.push(o)-1);return r},r.range=function(s){return arguments.length?(e=Array.from(s),r):e.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Pe(n,e).unknown(i)},fl.apply(r,arguments),r}export{Nn as A,oi as B,pi as C,ze as D,We as E,$n as F,Oe as G,J as H,Ue as I,je as J,Xe as K,In as L,Et as M,Je as N,Pe as O,us as P,ct as Q,kn as R,_i as S,cl as T,Zt as U,Qt as V,Rn as a,Be as b,Ke as c,bt as d,At as e,Cn as f,Fn as g,Qe as h,gi as i,fi as j,Ve as k,Ye as l,hi as m,Ge as n,Ln as o,ui as p,ci as q,ai as r,Tn as s,kt as t,li as u,qn as v,zn as w,ei as x,ni as y,ti as z};
